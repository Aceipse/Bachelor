Easily read/write J\+S\+O\+N files.

\href{http://travis-ci.org/jprichardson/node-jsonfile}{\tt !\mbox{[}build status\mbox{]}(https\+://secure.\+travis-\/ci.\+org/jprichardson/node-\/jsonfile.\+svg)}

\subsection*{Why? }

Writing {\ttfamily J\+S\+O\+N.\+stringify()} and then {\ttfamily fs.\+write\+File()} and {\ttfamily J\+S\+O\+N.\+parse()} with {\ttfamily fs.\+read\+File()} enclosed in {\ttfamily try/catch} blocks became annoying.

\subsection*{Installation }

\begin{DoxyVerb}npm install jsonfile --save
\end{DoxyVerb}


\subsection*{A\+P\+I }

\subsubsection*{read\+File(filename, \mbox{[}options\mbox{]}, callback)}

{\ttfamily options}\+: Pass in any {\ttfamily fs.\+read\+File} options or set {\ttfamily reviver} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse}{\tt J\+S\+O\+N reviver}.


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})
var util = require('util')

var file = '/tmp/data.json'
jsonfile.readFile(file, function(err, obj) \{
  console.dir(obj)
\})
\end{DoxyCode}


\subsubsection*{read\+File\+Sync(filename, \mbox{[}options\mbox{]})}

{\ttfamily options}\+: Pass in any {\ttfamily fs.\+read\+File\+Sync} options or set {\ttfamily reviver} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse}{\tt J\+S\+O\+N reviver}. Also {\ttfamily throws} set to {\ttfamily false} if you don\textquotesingle{}t ever want this method to throw on invalid J\+S\+O\+N. Will return {\ttfamily null} instead. Defaults to {\ttfamily true}.


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})
var util = require('util')

var file = '/tmp/data.json'

console.dir(jsonfile.readFileSync(file))
\end{DoxyCode}


\subsubsection*{write\+File(filename, \mbox{[}options\mbox{]}, callback)}

{\ttfamily options}\+: Pass in any {\ttfamily fs.\+write\+File} options or set {\ttfamily replacer} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}{\tt J\+S\+O\+N replacer}. Can also pass in {\ttfamily spaces}.


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})

var file = '/tmp/data.json'
var obj = \{name: \textcolor{stringliteral}{'JP'}\}

jsonfile.writeFile(file, obj, \textcolor{keyword}{function} (err) \{
  console.error(err)
\})
\end{DoxyCode}


{\bfseries formatting with spaces\+:}


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})

var file = '/tmp/data.json'
var obj = \{name: \textcolor{stringliteral}{'JP'}\}

jsonfile.writeFile(file, obj, \{spaces: 2\}, \textcolor{keyword}{function}(err) \{
  console.error(err)
\})
\end{DoxyCode}


\subsubsection*{write\+File\+Sync(filename, \mbox{[}options\mbox{]})}

{\ttfamily options}\+: Pass in any {\ttfamily fs.\+write\+File\+Sync} options or set {\ttfamily replacer} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}{\tt J\+S\+O\+N replacer}. Can also pass in {\ttfamily spaces}.


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})

var file = '/tmp/data.json'
var obj = \{name: \textcolor{stringliteral}{'JP'}\}

jsonfile.writeFileSync(file, obj)
\end{DoxyCode}


{\bfseries formatting with spaces\+:}


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})

var file = '/tmp/data.json'
var obj = \{name: \textcolor{stringliteral}{'JP'}\}

jsonfile.writeFileSync(file, obj, \{spaces: 2\})
\end{DoxyCode}


\subsubsection*{spaces}

Global configuration to set spaces to indent J\+S\+O\+N files.

{\bfseries default\+:} {\ttfamily null}


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})

jsonfile.spaces = 4;

var file = '/tmp/data.json'
var obj = \{name: \textcolor{stringliteral}{'JP'}\}

\textcolor{comment}{// json file has four space indenting now}
jsonfile.writeFile(file, obj, \textcolor{keyword}{function} (err) \{
  console.error(err)
\})
\end{DoxyCode}


Note, it\textquotesingle{}s bound to {\ttfamily this.\+spaces}. So, if you do this\+:


\begin{DoxyCode}
var myObj = \{\}
myObj.writeJsonSync = jsonfile.writeFileSync
\textcolor{comment}{// => this.spaces = null}
\end{DoxyCode}


Could do the following\+:


\begin{DoxyCode}
var jsonfile = require(\textcolor{stringliteral}{'jsonfile'})
jsonfile.spaces = 4
jsonfile.writeFileSync(file, obj) \textcolor{comment}{// will have 4 spaces indentation}

var myCrazyObj = \{spaces: 32\}
myCrazyObj.writeJsonSync = jsonfile.writeFileSync
myCrazyObj.writeJsonSync(file, obj) \textcolor{comment}{// will have 32 space indentation}
myCrazyObj.writeJsonSync(file, obj, \{spaces: 2\}) \textcolor{comment}{// will have only 2}
\end{DoxyCode}


\subsection*{License }

(M\+I\+T License)

Copyright 2012-\/2015, J\+P Richardson \href{mailto:jprichardson@gmail.com}{\tt jprichardson@gmail.\+com} 