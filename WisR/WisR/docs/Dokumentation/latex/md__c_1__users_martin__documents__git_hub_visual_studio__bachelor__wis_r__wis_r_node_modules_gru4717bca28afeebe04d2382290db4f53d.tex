Tracks the download progress of a request made with \href{https://github.com/mikeal/request}{\tt request}.

\subsection*{Installation}

{\ttfamily \$ npm install request-\/progress}

\subsection*{Usage}


\begin{DoxyCode}
var fs = require(\textcolor{stringliteral}{'fs'});
var request = require(\textcolor{stringliteral}{'request'});
var progress = require(\textcolor{stringliteral}{'request-progress'});

\textcolor{comment}{// Note that the options argument is optional}
progress(request(\textcolor{stringliteral}{'http://google.com/doodle.png'}), \{
    throttle: 2000,  \textcolor{comment}{// Throttle the progress event to 2000ms, defaults to 1000ms}
    delay: 1000      \textcolor{comment}{// Only start to emit after 1000ms delay, defaults to 0ms}
\})
.on(\textcolor{stringliteral}{'progress'}, \textcolor{keyword}{function} (state) \{
    console.log(\textcolor{stringliteral}{'received size in bytes'}, state.received);
    \textcolor{comment}{// The properties bellow can be null if response does not contain}
    \textcolor{comment}{// the content-length header}
    console.log(\textcolor{stringliteral}{'total size in bytes'}, state.total);
    console.log(\textcolor{stringliteral}{'percent'}, state.percent);
\})
.on(\textcolor{stringliteral}{'error'}, \textcolor{keyword}{function} (err) \{
    \textcolor{comment}{// Do something with err}
\})
.pipe(fs.createWriteStream(\textcolor{stringliteral}{'doodle.png'}))
.on(\textcolor{stringliteral}{'error'}, \textcolor{keyword}{function} (err) \{
    \textcolor{comment}{// Do something with err}
\})
.on(\textcolor{stringliteral}{'close'}, \textcolor{keyword}{function} (err) \{
    \textcolor{comment}{// Saved to doogle.png!}
\})
\end{DoxyCode}


Note that the {\ttfamily state} object emitted in the {\ttfamily progress} event is reused to avoid creating a new object for each event.

\subsection*{License}

Released under the \href{http://www.opensource.org/licenses/mit-license.php}{\tt M\+I\+T License}. 