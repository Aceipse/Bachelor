I have a lot of scraps of markdown engine oddities that I\textquotesingle{}ve collected over the years. What you see below is slightly messy, but it\textquotesingle{}s what I\textquotesingle{}ve managed to cobble together to illustrate the differences between markdown engines, and why, if there ever is a markdown specification, it has to be absolutely thorough. There are a lot more of these little differences I have documented elsewhere. I know I will find them lingering on my disk one day, but until then, I\textquotesingle{}ll continue to add whatever strange nonsensical things I find.

Some of these examples may only mention a particular engine compared to marked. However, the examples with markdown.\+pl could easily be swapped out for discount, upskirt, or markdown.\+js, and you would very easily see even more inconsistencies.

A lot of this was written when I was very unsatisfied with the inconsistencies between markdown engines. Please excuse the frustration noticeable in my writing.

\subsection*{Examples of markdown\textquotesingle{}s \char`\"{}stupid\char`\"{} list parsing}


\begin{DoxyCode}
1 $ markdown.pl
2 
3   * item1
4 
5     * item2
6 
7   text
8 ^D
9 <ul>
10 <li><p>item1</p>
11 
12 <ul>
13 <li>item2</li>
14 </ul>
15 
16 <p><p>text</p></li>
17 </ul></p>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2   * item1
3 
4     * item2
5 
6   text
7 ^D
8 <ul>
9 <li><p>item1</p>
10 <ul>
11 <li>item2</li>
12 </ul>
13 <p>text</p>
14 </li>
15 </ul>
\end{DoxyCode}


Which looks correct to you?






\begin{DoxyCode}
1 $ markdown.pl
2 * hello
3   > world
4 ^D
5 <p><ul>
6 <li>hello</p>
7 
8 <blockquote>
9   <p>world</li>
10 </ul></p>
11 </blockquote>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2 * hello
3   > world
4 ^D
5 <ul>
6 <li>hello<blockquote>
7 <p>world</p>
8 </blockquote>
9 </li>
10 </ul>
\end{DoxyCode}


Again, which looks correct to you?





E\+X\+A\+M\+P\+L\+E\+:


\begin{DoxyCode}
1 $ markdown.pl
2 * hello
3   * world
4     * hi
5           code
6 ^D
7 <ul>
8 <li>hello
9 <ul>
10 <li>world</li>
11 <li>hi
12   code</li>
13 </ul></li>
14 </ul>
\end{DoxyCode}


The code isn\textquotesingle{}t a code block even though it\textquotesingle{}s after the bullet margin. I know, lets give it two more spaces, effectively making it 8 spaces past the bullet.


\begin{DoxyCode}
1 $ markdown.pl
2 * hello
3   * world
4     * hi
5             code
6 ^D
7 <ul>
8 <li>hello
9 <ul>
10 <li>world</li>
11 <li>hi
12     code</li>
13 </ul></li>
14 </ul>
\end{DoxyCode}


And, it\textquotesingle{}s still not a code block. Did you also notice that the 3rd item isn\textquotesingle{}t even its own list? Markdown screws that up too because of its indentation unaware parsing.





Let\textquotesingle{}s look at some more examples of markdown\textquotesingle{}s list parsing\+:


\begin{DoxyCode}
1 $ markdown.pl
2 
3   * item1
4 
5     * item2
6 
7   text
8 ^D
9 <ul>
10 <li><p>item1</p>
11 
12 <ul>
13 <li>item2</li>
14 </ul>
15 
16 <p><p>text</p></li>
17 </ul></p>
\end{DoxyCode}


Misnested tags.


\begin{DoxyCode}
1 $ marked
2   * item1
3 
4     * item2
5 
6   text
7 ^D
8 <ul>
9 <li><p>item1</p>
10 <ul>
11 <li>item2</li>
12 </ul>
13 <p>text</p>
14 </li>
15 </ul>
\end{DoxyCode}


Which looks correct to you?






\begin{DoxyCode}
1 $ markdown.pl
2 * hello
3   > world
4 ^D
5 <p><ul>
6 <li>hello</p>
7 
8 <blockquote>
9   <p>world</li>
10 </ul></p>
11 </blockquote>
\end{DoxyCode}


More misnested tags.


\begin{DoxyCode}
1 $ marked
2 * hello
3   > world
4 ^D
5 <ul>
6 <li>hello<blockquote>
7 <p>world</p>
8 </blockquote>
9 </li>
10 </ul>
\end{DoxyCode}


Again, which looks correct to you?





\section*{Why quality matters -\/ Part 2}


\begin{DoxyCode}
1 $ markdown.pl
2 * hello
3   > world
4 ^D
5 <p><ul>
6 <li>hello</p>
7 
8 <blockquote>
9   <p>world</li>
10 </ul></p>
11 </blockquote>
\end{DoxyCode}



\begin{DoxyCode}
1 $ sundown # upskirt
2 * hello
3   > world
4 ^D
5 <ul>
6 <li>hello
7 &gt; world</li>
8 </ul>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2 * hello
3   > world
4 ^D
5 <ul><li>hello <blockquote><p>world</p></blockquote></li></ul>
\end{DoxyCode}


Which looks correct to you?





See\+: \href{https://github.com/evilstreak/markdown-js/issues/23}{\tt https\+://github.\+com/evilstreak/markdown-\/js/issues/23}


\begin{DoxyCode}
1 $ markdown.pl # upskirt/markdown.js/discount
2 * hello
3       var a = 1;
4 * world
5 ^D
6 <ul>
7 <li>hello
8 var a = 1;</li>
9 <li>world</li>
10 </ul>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2 * hello
3       var a = 1;
4 * world
5 ^D
6 <ul><li>hello
7 <pre>code>var a = 1;</code></pre></li>
8 <li>world</li></ul>
\end{DoxyCode}


Which looks more reasonable? Why shouldn\textquotesingle{}t code blocks be able to appear in list items in a sane way?






\begin{DoxyCode}
1 $ markdown.js
2 <div>hello</div>
3 
4 <span>hello</span>
5 ^D
6 <p>&lt;div&gt;hello&lt;/div&gt;</p>
7 
8 <p>&lt;span&gt;hello&lt;/span&gt;</p>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2 <div>hello</div>
3 
4 <span>hello</span>
5 ^D
6 <div>hello</div>
7 
8 
9 <p><span>hello</span>
10 </p>
\end{DoxyCode}






See\+: \href{https://github.com/evilstreak/markdown-js/issues/27}{\tt https\+://github.\+com/evilstreak/markdown-\/js/issues/27}


\begin{DoxyCode}
1 $ markdown.js
2 [![an image](/image)](/link)
3 ^D
4 <p><a href="/image)](/link">![an image</a></p>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2 [![an image](/image)](/link)
3 ^D
4 <p><a href="/link"><img src="/image" alt="an image"></a>
5 </p>
\end{DoxyCode}






See\+: \href{https://github.com/evilstreak/markdown-js/issues/24}{\tt https\+://github.\+com/evilstreak/markdown-\/js/issues/24}


\begin{DoxyCode}
1 $ markdown.js
2 > a
3 
4 > b
5 
6 > c
7 ^D
8 <blockquote><p>a</p><p>bundefined&gt; c</p></blockquote>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2 > a
3 
4 > b
5 
6 > c
7 ^D
8 <blockquote><p>a
9 
10 </p></blockquote>
11 <blockquote><p>b
12 
13 </p></blockquote>
14 <blockquote><p>c
15 </p></blockquote>
\end{DoxyCode}







\begin{DoxyCode}
1 $ markdown.pl
2 * hello
3   * world
4     how
5 
6     are
7     you
8 
9   * today
10 * hi
11 ^D
12 <ul>
13 <li><p>hello</p>
14 
15 <ul>
16 <li>world
17 how</li>
18 </ul>
19 
20 <p>are
21 you</p>
22 
23 <ul>
24 <li>today</li>
25 </ul></li>
26 <li>hi</li>
27 </ul>
\end{DoxyCode}



\begin{DoxyCode}
1 $ marked
2 * hello
3   * world
4     how
5 
6     are
7     you
8 
9   * today
10 * hi
11 ^D
12 <ul>
13 <li><p>hello</p>
14 <ul>
15 <li><p>world
16 how</p>
17 <p>are
18 you</p>
19 </li>
20 <li><p>today</p>
21 </li>
22 </ul>
23 </li>
24 <li>hi</li>
25 </ul>
\end{DoxyCode}
 