<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>WisR web applikation: Developing for Jasmine Core</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WisR web applikation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Developing for Jasmine Core </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We welcome your contributions! Thanks for helping make Jasmine a better project for everyone. Please review the backlog and discussion lists before starting work. What you're looking for may already have been done. If it hasn't, the community can help make your contribution better.</p>
<h2>Links</h2>
<ul>
<li><a href="http://groups.google.com/group/jasmine-js">Jasmine Google Group</a></li>
<li><a href="http://groups.google.com/group/jasmine-js-dev">Jasmine-dev Google Group</a></li>
<li><a href="https://www.pivotaltracker.com/n/projects/10606">Jasmine on PivotalTracker</a></li>
</ul>
<h2>General Workflow</h2>
<p>Please submit pull requests via feature branches using the semi-standard workflow of:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone git@github.com:yourUserName/jasmine.git              # Clone your fork</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd jasmine                                                     # Change directory</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;git remote add upstream https://github.com/jasmine/jasmine.git # Assign original repository to a remote named &#39;upstream&#39;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;git fetch upstream                                             # Pull in changes not present in your local repository</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;git checkout -b my-new-feature                                 # Create your feature branch</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;git commit -am &#39;Add some feature&#39;                              # Commit your changes</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;git push origin my-new-feature                                 # Push to the branch</div>
</div><!-- fragment --><p>Once you've pushed a feature branch to your forked repo, you're ready to open a pull request. We favor pull requests with very small, single commits with a single purpose.</p>
<h2>Background</h2>
<h3>Directory Structure</h3>
<ul>
<li><code>/src</code> contains all of the source files<ul>
<li><code>/src/console</code> - Node.js-specific files</li>
<li><code>/src/core</code> - generic source files</li>
<li><code>/src/html</code> - browser-specific files</li>
</ul>
</li>
<li><code>/spec</code> contains all of the tests<ul>
<li>mirrors the source directory</li>
<li>there are some additional files</li>
</ul>
</li>
<li><code>/dist</code> contains the standalone distributions as zip files</li>
<li><code>/lib</code> contains the generated files for distribution as the Jasmine Rubygem and the Python package</li>
</ul>
<h3>Self-testing</h3>
<p>Note that Jasmine tests itself. The files in <code>lib</code> are loaded first, defining the reference <code>jasmine</code>. Then the files in <code>src</code> are loaded, defining the reference <code>j$</code>. So there are two copies of the code loaded under test.</p>
<p>The tests should always use <code>j$</code> to refer to the objects and functions that are being tested. But the tests can use functions on <code>jasmine</code> as needed. <em>Be careful how you structure any new test code</em>. Copy the patterns you see in the existing code - this ensures that the code you're testing is not leaking into the <code>jasmine</code> reference and vice-versa.</p>
<h3><code>boot.js</code></h3>
<p><b>This is new for Jasmine 2.0.</b></p>
<p>This file does all of the setup necessary for Jasmine to work. It loads all of the code, creates an <code>Env</code>, attaches the global functions, and builds the reporter. It also sets up the execution of the <code>Env</code> - for browsers this is in <code>window.onload</code>. While the default in <code>lib</code> is appropriate for browsers, projects may wish to customize this file.</p>
<p>For example, for Jasmine development there is a different <code>dev_boot.js</code> for Jasmine development that does more work.</p>
<h3>Compatibility</h3>
<ul>
<li>Browser Minimum<ul>
<li>IE8</li>
<li>Firefox 3.x</li>
<li>Chrome ??</li>
<li>Safari 5</li>
</ul>
</li>
</ul>
<h2>Development</h2>
<p>All source code belongs in <code>src/</code>. The <code>core/</code> directory contains the bulk of Jasmine's functionality. This code should remain browser- and environment-agnostic. If your feature or fix cannot be, as mentioned above, please degrade gracefully. Any code that should only be in a non-browser environment should live in <code>src/console/</code>. Any code that depends on a browser (specifically, it expects <code>window</code> to be the global or <code>document</code> is present) should live in <code>src/html/</code>.</p>
<h3>Install Dependencies</h3>
<p>Jasmine Core relies on Ruby and Node.js.</p>
<p>To install the Ruby dependencies, you will need Ruby, Rubygems, and Bundler available. Then: </p><pre class="fragment">$ bundle
</pre><p>...will install all of the Ruby dependencies. If the ffi gem fails to build its native extensions, you may need to manually install some system dependencies. On Ubuntu: </p><pre class="fragment">$ apt-get install gcc ruby ruby-dev libxml2 libxml2-dev libxslt1-dev
</pre><p>...should get you to the point that <code>bundle</code> can install everything.</p>
<p>To install the Node dependencies, you will need Node.js, Npm, and <a href="http://gruntjs.com/">Grunt</a>, the <a href="https://github.com/gruntjs/grunt-cli">grunt-cli</a> and ensure that <code>grunt</code> is on your path. </p><pre class="fragment">$ npm install --local
</pre><p>...will install all of the node modules locally. If when you run </p><pre class="fragment">$ grunt
</pre><p>...you see that JSHint runs your system is ready.</p>
<h3>How to write new Jasmine code</h3>
<p>Or, How to make a successful pull request</p>
<ul>
<li><em>Do not change the public interface</em>. Lots of projects depend on Jasmine and if you aren't careful you'll break them</li>
<li><em>Be environment agnostic</em> - server-side developers are just as important as browser developers</li>
<li><em>Be browser agnostic</em> - if you must rely on browser-specific functionality, please write it in a way that degrades gracefully</li>
<li><em>Write specs</em> - Jasmine's a testing framework; don't add functionality without test-driving it</li>
<li><em>Write code in the style of the rest of the repo</em> - Jasmine should look like a cohesive whole</li>
<li><em>Ensure the <em>entire</em> test suite is green</em> in all the big browsers, Node, and JSHint - your contribution shouldn't break Jasmine for other users</li>
</ul>
<p>Follow these tips and your pull request, patch, or suggestion is much more likely to be integrated.</p>
<h3>Running Specs</h3>
<p>Jasmine uses the <a href="http://github.com/jasmine/jasmine-gem">Jasmine Ruby gem</a> to test itself in browser. </p><pre class="fragment">$ rake jasmine
</pre><p>...and then visit <code><a href="http://localhost:8888">http://localhost:8888</a></code> to run specs.</p>
<p>Jasmine uses the <a href="http://github.com/jasmine/jasmine-npm">Jasmine NPM package</a> to test itself in a Node.js/npm environment. </p><pre class="fragment">$ grunt execSpecsInNode
</pre><p>...and then the results will print to the console. All specs run except those that expect a browser (the specs in <code>spec/html</code> are ignored).</p>
<h2>Before Committing or Submitting a Pull Request</h2>
<ol type="1">
<li>Ensure all specs are green in browser <em>and</em> node</li>
</ol>
<ol type="1">
<li>Ensure JSHint is green with <code>grunt jshint</code></li>
</ol>
<ol type="1">
<li>Build <code>jasmine.js</code> with <code>grunt buildDistribution</code> and run all specs again - this ensures that your changes self-test well</li>
</ol>
<h2>Submitting a Pull Request</h2>
<ol type="1">
<li>Revert your changes to <code>jasmine.js</code> and <code>jasmine-html.js</code><ul>
<li>We do this because <code>jasmine.js</code> and <code>jasmine-html.js</code> are auto-generated (as you've seen in the previous steps) and accepting multiple pull requests when this auto-generated file changes causes lots of headaches</li>
</ul>
</li>
</ol>
<ol type="1">
<li>When we accept your pull request, we will generate these files as a separate commit and merge the entire branch into master</li>
</ol>
<p>Note that we use Travis for Continuous Integration. We only accept green pull requests. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
