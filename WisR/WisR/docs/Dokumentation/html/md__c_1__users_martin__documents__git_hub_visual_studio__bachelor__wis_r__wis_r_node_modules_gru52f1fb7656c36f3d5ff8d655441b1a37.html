<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>WisR web applikation: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WisR web applikation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://npmjs.org/package/grunt-template-jasmine-istanbul">![NPM version][npm-image]</a> <a href="https://travis-ci.org/maenu/grunt-template-jasmine-istanbul">![build status][travis-image]</a> <a href="https://npmjs.org/package/grunt-template-jasmine-istanbul">![Downloads][downloads-image]</a></p>
<h1>Code coverage template mix-in for <a href="https://github.com/gruntjs/grunt-contrib-jasmine">grunt-contrib-jasmine</a>, using <a href="https://github.com/gotwarlost/istanbul">istanbul</a></h1>
<h2>Installation</h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;npm install grunt-template-jasmine-istanbul --save-dev</div>
</div><!-- fragment --><h2>Template Options</h2>
<h3>templateOptions.coverage</h3>
<p>Type: <code>String</code> Mandatory.</p>
<p>The file path where to store the <code>coverage.json</code>.</p>
<h3>templateOptions.report</h3>
<p>Type: <code>String | Object | Array</code> Mandatory.</p>
<p>If a <code>String</code> is given, it will be used as the path where a HTML report is generated. If an <code>Object</code> is given, it must have the properties <code>type</code> and <code>options</code>, where <code>type</code> is a <code>String</code> and <code>options</code> an <code>Object</code>. <code>type</code> and <code>options</code> are used to create the report by passing it to <code>istanbul</code>s <a href="http://gotwarlost.github.com/istanbul/public/apidocs/classes/Report.html">`Report.create(type, options)`</a>. For example, if you want to generate a Cobertura report at <code>bin/coverage/cobertura</code>, use this:</p>
<div class="fragment"><div class="line">report: {</div>
<div class="line">    type: <span class="stringliteral">&#39;cobertura&#39;</span>,</div>
<div class="line">    options: {</div>
<div class="line">        dir: <span class="stringliteral">&#39;bin/coverage/cobertura&#39;</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>If an <code>Array</code> is given, it must consist of <code>Object</code>s of the form just described.</p>
<p>The supported types are:</p>
<ul>
<li><a href="http://gotwarlost.github.com/istanbul/public/apidocs/classes/HtmlReport.html">`html`</a></li>
<li><a href="http://gotwarlost.github.com/istanbul/public/apidocs/classes/TextReport.html">`text`</a></li>
<li><a href="http://gotwarlost.github.com/istanbul/public/apidocs/classes/TextSummaryReport.html">`text-summary`</a></li>
<li><a href="http://gotwarlost.github.com/istanbul/public/apidocs/classes/LcovReport.html">`lcov`</a></li>
<li><a href="http://gotwarlost.github.com/istanbul/public/apidocs/classes/LcovOnlyReport.html">`lcovonly`</a></li>
<li><a href="http://gotwarlost.github.com/istanbul/public/apidocs/classes/CoberturaReport.html">`cobertura`</a></li>
</ul>
<h3>templateOptions.files</h3>
<p>Type: <code>String|Array</code> Default: <code>**/*</code></p>
<p>A globbing pattern or multiple patterns for the source files to instrument. All source files that do match will be instrumented, those who don't won't. E.g. `['**/*', '!src/main/js/uninteresting.js']<code>will result in all source files being instrumented except</code>src/main/js/uninteresting.js`.</p>
<h3>templateOptions.replace</h3>
<p>Type: <code>Boolean|Function</code> Default: <code>true</code></p>
<p>Whether or not the <code>src</code> scripts are replaced by the paths to their instrumented versions. This is useful when you want the mixed-in template to work with the original sources, and you want to serve the instrumented sources by redirecting request on the server side. If you don't want the sources to be replaced, set it to <code>false</code>. If it is a function, it receives the arguments <code>Ã¬nstrumentedSource</code> and <code>source</code> which represent the URI to the instrumented file and the uninstrumented file respectively, relative to the directory specified by <a href="https://github.com/gruntjs/grunt-contrib-jasmine#optionsoutfile">`outfile`</a>.</p>
<h3>templateOptions.thresholds</h3>
<p>Type: <code>Object</code> Default: <code>undefined</code></p>
<p>Thresholds for any of the metrics that Istanbul measures. If a threshold is not met, a warning is emitted. See example below for available metrics.</p>
<h3>templateOptions.template</h3>
<p>Type: <code>String | Object</code> Default: jasmine's default template</p>
<p>The template to mix-in coverage.</p>
<h3>templateOptions.templateOptions</h3>
<p>Type: <code>Object</code> Default: <code>undefined</code></p>
<p>The options to pass to the mixed-in template.</p>
<h2>Examples</h2>
<p>There are multiple examples at a <a href="https://github.com/maenu/grunt-template-jasmine-istanbul-example">example repository</a>.</p>
<h3>Simple</h3>
<p>Have a look at <a href="https://github.com/maenu/grunt-template-jasmine-istanbul-example">this example</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// Example configuration</span></div>
<div class="line">grunt.initConfig({</div>
<div class="line">    jasmine: {</div>
<div class="line">        coverage: {</div>
<div class="line">            src: [<span class="stringliteral">&#39;src/main/js/*.js&#39;</span>],</div>
<div class="line">            options: {</div>
<div class="line">                specs: [<span class="stringliteral">&#39;src/test/js/*.js&#39;</span>],</div>
<div class="line">                <span class="keyword">template</span>: require(<span class="stringliteral">&#39;grunt-template-jasmine-istanbul&#39;</span>),</div>
<div class="line">                templateOptions: {</div>
<div class="line">                    coverage: <span class="stringliteral">&#39;bin/coverage/coverage.json&#39;</span>,</div>
<div class="line">                    report: <span class="stringliteral">&#39;bin/coverage&#39;</span>,</div>
<div class="line">                    thresholds: {</div>
<div class="line">                        lines: 75,</div>
<div class="line">                        statements: 75,</div>
<div class="line">                        branches: 75,</div>
<div class="line">                        functions: 90</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h3>RequireJS</h3>
<p>Have a look at <a href="https://github.com/maenu/grunt-template-jasmine-istanbul-example/tree/requirejs">this example</a>. Note that you need to configure the <code>baseUrl</code> to point to the instrumented sources, as described in the section <a href="https://github.com/maenu/grunt-template-jasmine-istanbul#a-single-arequirement">below</a>.</p>
<div class="fragment"><div class="line">grunt.initConfig({</div>
<div class="line">    jasmine: {</div>
<div class="line">        coverage: {</div>
<div class="line">            src: [<span class="stringliteral">&#39;src/main/js/*.js&#39;</span>],</div>
<div class="line">            options: {</div>
<div class="line">                specs: [<span class="stringliteral">&#39;src/test/js/*.js&#39;</span>],</div>
<div class="line">                <span class="keyword">template</span>: require(<span class="stringliteral">&#39;grunt-template-jasmine-istanbul&#39;</span>),</div>
<div class="line">                templateOptions: {</div>
<div class="line">                    coverage: <span class="stringliteral">&#39;bin/coverage/coverage.json&#39;</span>,</div>
<div class="line">                    report: <span class="stringliteral">&#39;bin/coverage&#39;</span>,</div>
<div class="line">                    <span class="keyword">template</span>: require(<span class="stringliteral">&#39;grunt-template-jasmine-requirejs&#39;</span>),</div>
<div class="line">                    templateOptions: {</div>
<div class="line">                        requireConfig: {</div>
<div class="line">                            baseUrl: <span class="stringliteral">&#39;.grunt/grunt-contrib-jasmine/src/main/js/&#39;</span></div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h4>Is it really that easy?</h4>
<p>No.</p>
<p>Setting <code>baseUrl</code> to that location may screw up your whole configuration, because paths relative to the original sources are broken. Therefore, if this happens to you, instead of directly loading the instrumented sources, set <code>replace: false</code>, intercept request to the original sources and redirect them to the instrumented versions. You can do this on both the <a href="https://github.com/maenu/grunt-template-jasmine-istanbul-example/tree/requirejs-client">client side</a>, or the <a href="https://github.com/maenu/grunt-template-jasmine-istanbul-example/tree/requirejs-server">server side</a>. Look at the corresponding <code>Grunfile.js</code> files and be filled with horror: Yes, this is nasty, but it (seems to) works.</p>
<h2>Mixed-in Templates</h2>
<h3>The Idea</h3>
<p>Do you have another template you want to use, but you also want to collect code coverage at the same time? Then you can use a mixed-in template, that's what they are for. The idea behind a mixed-in template is simple: Istanbul generates code coverage information by instrumenting the sources before they are run and by generating reports after they have run. Therefore this templates acts as a test pre- and post-processor, but it doesn't interfere with the actual running of the tests. This makes it possible to use another template as a mix-in template to run the tests, defined by <code>templateOptions.template</code> and can be configured with <code>templateOptions.templateOptions</code>.</p>
<h3>A Single Requirement</h3>
<p>A mixed-in template needs to load the instrumented sources in order for the coverage reports to be correctly generated. This template copies instrumented versions of the sources to a temporary location at <code>.grunt/grunt-contrib-jasmine/</code>. If your mixed-in template simply includes the sources, as the default template does, you don't need to account for that, since this template replaces the <code>src</code> option with the paths to the instrumented versions. If your mixed-in template loads the sources differently, e.g. directly from the file system, you may need to reconfigure the mixed-in template.</p>
<h2>Change Log</h2>
<ul>
<li>v0.3.4, 28.06.15, closes <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/40">#40</a>, Don't throw error in reporter if coverage was not run.</li>
<li>v0.3.3, 27.01.15, closes <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/36">#36</a>, require lodash 3</li>
<li>v0.3.2, 23.01.15, closes <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/33">#33</a> and <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/28">#28</a></li>
<li>v0.3.1, 02.02.14, closes <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/14">#14</a> and <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/17">#17</a>, added <code>files</code> option and function support for <code>replace</code> option</li>
<li>v0.3.0, 02.02.14, fixes <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/18">#18</a> and <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/26">#26</a>, now requires grunt-contrib-jasmine v0.6.0</li>
<li>v0.2.6, 02.02.14, merged <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/13">#13</a> from , windows paths are converted to URIs</li>
<li>v0.2.5, 10.08.13, reporter is now moved to and loaded from jasmine's temporary directory, fixes <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/11">#11</a></li>
<li>v0.2.4, 26.05.13, merged <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/12">#12</a> from , instrumented versions of files loaded via absolute paths on windows are now created at a valid path</li>
<li>v0.2.3, 12.05.13, merged <code>thresholds</code> from  <a href="https://github.com/maenu/grunt-template-jasmine-istanbul/issues/9">#9</a> which can abort a build with too low coverage</li>
<li>v0.2.2, 11.05.13, added <code>replace</code> option, so it can be prevented that the original <code>src</code> option is replaced with their instrumented versions </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
