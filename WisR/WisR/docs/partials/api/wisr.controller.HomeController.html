<h1><code ng:non-bindable="">HomeController</code>
<div><span class="hint">controller in module <code ng:non-bindable="">WisR</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="wisr-controller-page wisr-controller-homecontroller-page"><p>Controller for the Home View of the application</p>
</div></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_broadcastroom">broadcastRoom(roomToAdd)</h3>
<div class="broadcastroom"><div class="homecontroller-broadcastroom-page"><p>Function that is called when a new room has been created. This gets called by the function &quot;Send&quot; in the RoomHub.
The function adds the new room to the Rooms collection.</p>
</div><h5 id="methods_broadcastroom_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>roomToAdd</td><td><a href="" class="label type-hint type-hint-room">Room</a></td><td><div class="homecontroller-broadcastroom-page"><p>The room to add to the rooms collection</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_broadcastupdateroom">broadcastUpdateRoom(roomToUpdate)</h3>
<div class="broadcastupdateroom"><div class="homecontroller-broadcastupdateroom-page"><p>Function that is called when a room has been changed. This gets called by the function &quot;Update&quot; in the RoomHub.
The function adds the updates to the room in the Rooms collection.
This function is used when the location of a room is updated.</p>
</div><h5 id="methods_broadcastupdateroom_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>roomToUpdate</td><td><a href="" class="label type-hint type-hint-room">Room</a></td><td><div class="homecontroller-broadcastupdateroom-page"><p>The room to update in the rooms collection</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_changeviewtoroom">changeViewToRoom(room)</h3>
<div class="changeviewtoroom"><div class="homecontroller-changeviewtoroom-page"><p>Function to change view to a specific room. Contains validation if room has allowAnonymous set to false</p>
</div><h5 id="methods_changeviewtoroom_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>room</td><td><a href="" class="label type-hint type-hint-room">Room</a></td><td><div class="homecontroller-changeviewtoroom-page"><p>The room that the view changes to</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_connectwithuniquesecret">connectWithUniqueSecret()</h3>
<div class="connectwithuniquesecret"><div class="homecontroller-connectwithuniquesecret-page"><p>Function that changes view to a specific room, with the secret in the &quot;uniqueRoomSecret&quot; property</p>
</div></div>
</li>
<li><h3 id="methods_deleteroom">deleteRoom(roomToDelete)</h3>
<div class="deleteroom"><div class="homecontroller-deleteroom-page"><p>Function for deleting room</p>
</div><h5 id="methods_deleteroom_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>roomToDelete</td><td><a href="" class="label type-hint type-hint-room">Room</a></td><td><div class="homecontroller-deleteroom-page"><p>The room to delete</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_getcurrentposition">getCurrentPosition()</h3>
<div class="getcurrentposition"><div class="homecontroller-getcurrentposition-page"><p>Geolocation function that gets called at load of the home index page to get the location of the user. When the location is fetched the property currentLocation is set with the value and the getRooms function is called.
At this point the function calls geocode to get the formatted address</p>
</div></div>
</li>
<li><h3 id="methods_getrooms">getRooms()</h3>
<div class="getrooms"><div class="homecontroller-getrooms-page"><p>Function to get all rooms when loading page, this function also maps the userId from the window to the property &quot;userId&quot;, and the location of the current user to the properties &quot;locationLatitude&quot; and &quot;locationLongitude&quot;</p>
</div></div>
</li>
<li><h3 id="methods_postroom">postRoom()</h3>
<div class="postroom"><div class="homecontroller-postroom-page"><p>Function to create a new room on the database with the entered information from the modal window.
If no error is returned, this function calls &quot;changeViewToRoom&quot; and adds room to connected rooms(so that user doesn&#39;t have to enter password)</p>
</div></div>
</li>
<li><h3 id="methods_toggledropdown">toggleDropdown(roomId)</h3>
<div class="toggledropdown"><div class="homecontroller-toggledropdown-page"><p>Function that toggles the visibility of the dropdown</p>
</div><h5 id="methods_toggledropdown_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>roomId</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="homecontroller-toggledropdown-page"><p>id used to uniquely identify the dropdown</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_togglemodalwithroom">toggleModalWithRoom(modal, room)</h3>
<div class="togglemodalwithroom"><div class="homecontroller-togglemodalwithroom-page"><p>Function that toggles the visibility of the modal window and adds the room to a scope variable so that we can show specific information on the modal window</p>
</div><h5 id="methods_togglemodalwithroom_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>modal</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="homecontroller-togglemodalwithroom-page"><p>id used to uniquely identify the modal</p>
</div></td></tr><tr><td>room</td><td><a href="" class="label type-hint type-hint-room">Room</a></td><td><div class="homecontroller-togglemodalwithroom-page"><p>room that is being sent to the modal window</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_useridwatch">userIdWatch(room)</h3>
<div class="useridwatch"><div class="homecontroller-useridwatch-page"><p>Function that watches the userId variable and fetches user from restAPI when it changes</p>
</div><h5 id="methods_useridwatch_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>room</td><td><a href="" class="label type-hint type-hint-room">Room</a></td><td><div class="homecontroller-useridwatch-page"><p>The room that the view changes to</p>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
<div class="member property"><h2 id="properties">Properties</h2>
<ul class="properties"><li><h3 id="properties_allowanonymous">AllowAnonymous</h3>
<div class="allowanonymous"><div class="-allowanonymous-page"><p>Property that is set when creating a new room in the modal window
Describes whether anonymous users are allowed in the room.
Default is Empty string</p>
</div><h5 id="properties_allowanonymous_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-allowanonymous-page"><p>AllowAnonymous</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_haschat">HasChat</h3>
<div class="haschat"><div class="-haschat-page"><p>Property that is set when creating a new room in the modal window
Default is Empty string</p>
</div><h5 id="properties_haschat_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-haschat-page"><p>HasChat</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_hashedpassword">HashedPassword</h3>
<div class="hashedpassword"><div class="-hashedpassword-page"><p>Property the SHA512 hashed version of the password
Default is Empty string</p>
</div><h5 id="properties_hashedpassword_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-hashedpassword-page"><p>HashedPassword</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_message">Message</h3>
<div class="message"><div class="-message-page"><p>Property that contains string written in the message div. Used for error messages when connecting to a room</p>
</div><h5 id="properties_message_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-message-page"><p>Message</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_password">Password</h3>
<div class="password"><div class="-password-page"><p>Property that is set when creating a new room in the modal window
Default is Empty string</p>
</div><h5 id="properties_password_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-password-page"><p>Password</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_radius">Radius</h3>
<div class="radius"><div class="-radius-page"><p>Property that is set when creating a new room in the modal window
Default is 50</p>
</div><h5 id="properties_radius_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-integer">Integer</a></td><td><div class="-radius-page"><p>Radius</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_roomname">RoomName</h3>
<div class="roomname"><div class="-roomname-page"><p>Property that is set when creating a new room in the modal window
Default is empty string</p>
</div><h5 id="properties_roomname_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-roomname-page"><p>RoomName</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_rooms">Rooms</h3>
<div class="rooms"><div class="-rooms-page"><p>Collection that contains all rooms, this container gets filtered by location and shown in the table</p>
</div><h5 id="properties_rooms_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-array">Array&lt;Room&gt;</a></td><td><div class="-rooms-page"><p>Rooms</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_uniquesecret">UniqueSecret</h3>
<div class="uniquesecret"><div class="-uniquesecret-page"><p>Property that is set when creating a new room in the modal window
Default is Empty string</p>
</div><h5 id="properties_uniquesecret_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-uniquesecret-page"><p>UniqueSecret</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_uselocation">UseLocation</h3>
<div class="uselocation"><div class="-uselocation-page"><p>Property that is set when creating a new room in the modal window
Describes whether is should be possible to find the room by being near it(location wise)
Default is Empty string</p>
</div><h5 id="properties_uselocation_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-uselocation-page"><p>UseLocation</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_userscanask">UsersCanAsk</h3>
<div class="userscanask"><div class="-userscanask-page"><p>Property that is set when creating a new room in the modal window
Describes whether users can ask questions in the room.
Default is true</p>
</div><h5 id="properties_userscanask_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-userscanask-page"><p>UsersCanAsk</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_currentaddress">currentAddress</h3>
<div class="currentaddress"><div class="-currentaddress-page"><p>Property that contains the formatted address for the current location</p>
</div><h5 id="properties_currentaddress_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-currentaddress-page"><p>currentAddress</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_locationlatitude">locationLatitude</h3>
<div class="locationlatitude"><div class="-locationlatitude-page"><p>Property that contains the latitude information about the current users location</p>
</div><h5 id="properties_locationlatitude_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-float">Float</a></td><td><div class="-locationlatitude-page"><p>locationLatitude</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_locationlongitude">locationLongitude</h3>
<div class="locationlongitude"><div class="-locationlongitude-page"><p>Property that contains the longitude information about the current users location</p>
</div><h5 id="properties_locationlongitude_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-float">Float</a></td><td><div class="-locationlongitude-page"><p>locationLongitude</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_roomsloaded">roomsLoaded</h3>
<div class="roomsloaded"><div class="-roomsloaded-page"><p>Property that states whether the rooms have been loaded from the database(Used to remove loading animation from view)</p>
</div><h5 id="properties_roomsloaded_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="-roomsloaded-page"><p>roomsLoaded</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_uniqueroomsecret">uniqueRoomSecret</h3>
<div class="uniqueroomsecret"><div class="-uniqueroomsecret-page"><p>Property that contains string written in the &quot;UniqueSecret&quot; field when trying to connect to a room by unique secret.</p>
</div><h5 id="properties_uniqueroomsecret_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-uniqueroomsecret-page"><p>uniqueRoomSecret</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_userid">userId</h3>
<div class="userid"><div class="-userid-page"><p>Property that contains id of the current user. This id is generated by the database.</p>
</div><h5 id="properties_userid_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-userid-page"><p>userId</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
</div>
